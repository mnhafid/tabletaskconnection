import{s as k,f as P,a as T,g as y,h as I,d as _,c as L,u as S,j as v,k as q,i as w,o as M,p as R}from"../chunks/scheduler.76be16dd.js";import{S as j,i as C,b as O,d as V,m as E,a as A,t as F,e as H}from"../chunks/index.bd204057.js";import{d as J}from"../chunks/jobs.6e3cd3e4.js";import{P as z}from"../chunks/PowerTable.8cfdfd02.js";function B(t){let s,a,n,o,f="<br/><small>The empty space after this line is intentional.</small>",c,b={ptData:t[1],ptOptions:t[2],ptInstructs:t[3]};return a=new z({props:b}),t[5](a),a.$on("rowClicked",t[4]),{c(){s=P("div"),O(a.$$.fragment),n=T(),o=P("div"),o.innerHTML=f,this.h()},l(e){s=y(e,"DIV",{id:!0,class:!0});var i=I(s);V(a.$$.fragment,i),i.forEach(_),n=L(e),o=y(e,"DIV",{style:!0,["data-svelte-h"]:!0}),S(o)!=="svelte-1gu1cbv"&&(o.innerHTML=f),this.h()},h(){v(s,"id","myPowerTable"),v(s,"class","ex11_style1"),q(o,"height","90vh")},m(e,i){w(e,s,i),E(a,s,null),w(e,n,i),w(e,o,i),c=!0},p(e,[i]){const r={};i&2&&(r.ptData=e[1]),i&4&&(r.ptOptions=e[2]),a.$set(r)},i(e){c||(A(a.$$.fragment,e),c=!0)},o(e){F(a.$$.fragment,e),c=!1},d(e){e&&(_(s),_(n),_(o)),t[5](null),H(a)}}}function $(t){t.scrollIntoView({behavior:"smooth"}),t.classList.add("flash"),setTimeout(function(){t.classList.remove("flash")},1500)}function G(t){return new Promise(s=>{if(document.querySelector(t))return s(document.querySelector(t));const a=new MutationObserver(n=>{document.querySelector(t)&&(s(document.querySelector(t)),a.disconnect())});a.observe(document.body,{childList:!0,subtree:!0})})}function K(t,s,a){let n,o=[],f=[{key:"id",parseAs:"unsafe-html"},{key:"first_name"},{key:"last_name"}],c={rowsPerPage:20,userFunctions:{customParse:b}};function b(r){if(!n)return r;let h=n.getData(!1,["options","sortedData"]),u=h.options,p=h.sortedData;return r.forEach((d,g)=>{let m=Math.floor(u.rowsPerPage/2),l=g+(u.currentPage-1)*u.rowsPerPage+m;l>=p.length&&(l-m>0?l=g+(u.currentPage-1)*u.rowsPerPage-m:l=0);let D=p[l]?p[l].id:0;d.id=`${d.id} <button class="btn lean" data-jump="${l}">Jump to index ${l} (value: ${D})</button>`}),r}function e(r){let h=r.detail.event.target,u;if(u=parseInt(h.getAttribute("data-jump"))){let p=`#myPowerTable tr[data-id="${u}"]`,d=document.querySelector(p);if(d)$(d);else{let g=n.getData(!0,["options","sortedData"]),m=Math.ceil((u+1)/g.options.rowsPerPage);a(2,c={...c,currentPage:m}),G(p).then(l=>{$(l)})}}}M(()=>{a(1,o=J)});function i(r){R[r?"unshift":"push"](()=>{n=r,a(0,n)})}return[n,o,c,f,e,i]}class X extends j{constructor(s){super(),C(this,s,K,B,k,{})}}export{X as component};
